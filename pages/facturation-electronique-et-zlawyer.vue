<template>
  <div class="max-width-blue-section relative">

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center w-full">
      <div class="flex flex-col gap-4">
        <h1 class="anim-hero text-left">
          zLawyer : <span class="text-underline">Votre partenaire de</span> <br> <span class="text-underline">
            confiance</span> pour la facturation √©lectronique
        </h1>

        <p>
          La r√©forme de la facturation √©lectronique, effective d√®s le 1er septembre 2026, impose √†
          toutes les entreprises assujetties √† la TVA en France d&#39;√©mettre et de recevoir des factures
          √©lectroniques via des plateformes agr√©√©es (PA)
        </p>
        <p>Pour les cabinets d‚Äôavocats, cette transformation r√©glementaire peut repr√©senter un enjeu
          complexe si elle n‚Äôest pas anticip√©e avec les bons outils.</p>
        <p>zLawyer, con√ßu sp√©cifiquement pour les cabinets d&#39;avocats, int√®gre cette
          fonctionnalit√©, vous assurant une conformit√© totale sans perturber vos habitudes de
          travail.</p>
      </div>
      <img :src="'/images/features/features10.webp'" alt="illustration du logiciel"
        class="w-full rounded-radius-current" />
    </div>

    <div class="mt-32 flex gap-8 w-full">
      <aside class="hidden lg:block">
        <div class="h-fit w-64 sticky top-32 left-0 bg-white border border-gray-200 rounded-lg p-6 shadow-sm">
          <h3 class="font-semibold text-lg mb-4 text-orange">Sommaire</h3>
          <ul class="space-y-3">
            <li>
              <a href="#pourquoi-choisir"
                class="scroll-link text-gray-700 hover:text-orange transition-colors duration-200 text-sm block py-1">
                Pourquoi choisir zLawyer ?
              </a>
            </li>
            <li>
              <a href="#solution-tout-en-un"
                class="scroll-link text-gray-700 hover:text-orange transition-colors duration-200 text-sm block py-1">
                Une solution tout-en-un
              </a>
            </li>
            <li>
              <a href="#mode-operatoire"
                class="scroll-link text-gray-700 hover:text-orange transition-colors duration-200 text-sm block py-1">
                Le mode op√©ratoire
              </a>
            </li>
            <li>
              <a href="#experience-utilisateur"
                class="scroll-link text-gray-700 hover:text-orange transition-colors duration-200 text-sm block py-1">
                Une exp√©rience pens√©e pour les cabinets
              </a>
            </li>
            <li>
              <a href="#faq"
                class="scroll-link text-gray-700 hover:text-orange transition-colors duration-200 text-sm block py-1">
                FAQ - Questions fr√©quentes
              </a>
            </li>
            <li>
              <a href="#statuts-factures"
                class="scroll-link text-gray-700 hover:text-orange transition-colors duration-200 text-sm block py-1">
                Statuts des factures
              </a>
            </li>
          </ul>
        </div>
      </aside>

      <div class="w-full">

        <section class="mb-6" id="pourquoi-choisir">
          <h2 class="text-3xl font-bold mb-6 ">
            Pourquoi <span class="text-underline">choisir zLawyer comme solution</span> de facturation √©lectronique ?
          </h2>
          <p class="leading-relaxed text-gray-700">
            zLawyer, √©diteur de logiciel reconnu pour les cabinets d&#39;avocats, anticipe cette r√©forme avec
            des solutions sp√©cifiques √† votre activit√©.
          </p>
          <p>Nous sommes <span class="font-bold">PA compliant</span>, ce qui signifie que la solution zLawyer est
            con√ßue pour
            r√©pondre aux exigences l√©gales de la facturation √©lectronique.</p>
        </section>

        <section class="p-6" id="solution-tout-en-un">
          <h3 class="text-xl font-semibold mb-4 text-orange">Une solution tout-en-un, 100% conforme</h3>
          <p><span class="font-bold">PA compliant,</span> zLawyer int√®gre la facturation √©lectronique directement dans
            votre interface m√©tier.</p>
          <ul class="mt-5 space-y-3 text-gray-700">
            <p class="font-bold">Principaux atouts :</p>
            <li class="flex items-start">
              <span class="text-orange mr-3 mt-1">‚Ä¢</span>
              <p>
                <span class="font-bold mr-1">Conformit√© int√©gr√©e :</span> respect total de la r√©forme (formats exig√©s,
                transmission via PA , obligations l√©gales).
              </p>
            </li>
            <li class="flex items-start">
              <span class="text-orange mr-3 mt-1">‚Ä¢</span>
              <p>
                <span class="font-bold mr-1 whitespace-nowrap">Z√©ro rupture dans l‚Äôusage :</span> la facturation
                √©lectronique est int√©gr√©e √†
                notre solution,
                vous permettant de g√©rer √† la fois vos dossiers juridiques et le processus de
                facturation depuis une interface unique, sans changer d‚Äôenvironnement.
              </p>
            </li>
            <li class="flex items-start">
              <span class="text-orange mr-3 mt-1">‚Ä¢</span>
              <p> <span class="font-bold mr-1">Aucune double saisie :</span> les donn√©es issues de vos dossiers sont
                automatiquement reprises dans vos factures.</p>
            </li>
            <li class="flex items-start">
              <span class="text-orange mr-3 mt-1">‚Ä¢</span>
              <p>
                <span class="font-bold mr-1">Un suivi temps r√©el </span> du cycle de vie de vos factures,
              </p>
            </li>
          </ul>
        </section>

        <section class="p-6" id="mode-operatoire">
          <h3 class="text-xl font-semibold mb-4 text-orange">Le mode op√©ratoire via zLawyer</h3>
          <ul class="mt-5 ml-4 space-y-3 text-gray-700">
            <li class="flex items-start">
              <span class="text-orange mr-2">1.</span>
              <p>
                Cr√©ation de la facture √©lectronique dans zLawyer,
              </p>
            </li>
            <li class="flex items-start">
              <span class="text-orange mr-2">2.</span>
              <p>
                Transmission de la facture √©lectronique au client via notre PA (Plateforme Agr√©e),
              </p>
            </li>
            <li class="flex items-start">
              <span class="text-orange mr-2">3.</span>
              <p>
                R√©ception et traitement automatis√© de la facture par le client,
              </p>
            </li>
            <li class="flex items-start">
              <span class="text-orange mr-2">4.</span>
              <p>
                Suivi des statuts dans zLawyer : d√©pos√©e, rejet√©e, accept√©e, pay√©e‚Ä¶
              </p>
            </li>

          </ul>
        </section>

        <section class="p-6 mb-6" id="experience-utilisateur">
          <h2 class="text-xl font-semibold mb-4 text-orange">Une exp√©rience utilisateur pens√©e pour les
            cabinets d‚Äôavocats</h2>
          <p class="text-lg leading-relaxed text-gray-700 mb-6">
            zLawyer n‚Äôest pas un logiciel de gestion g√©n√©rique. Il a √©t√© con√ßu sur mesure pour les
            professionnels du droit.
          </p>

          <div class="px-6 py-3">
            <h2 class="text-xl font-semibold mb-4">Vous b√©n√©ficiez d' :</h2>
            <ul class="space-y-2 text-gray-700">
              <li class="flex items-start">
                <span class="text-orange mr-3 mt-1">‚úì</span>
                <span class="text-bolder">Une expertise d√©di√©e aux cabinets d'avocats,</span>
              </li>
              <li class="flex items-start">
                <span class="text-orange mr-3 mt-1">‚úì</span>
                <span class="text-bolder">Un outil conforme, pr√™t pour 2026,</span>
              </li>
              <li class="flex items-start">
                <span class="text-orange mr-3 mt-1">‚úì</span>
                <span class="text-bolder">Int√©gration facile dans votre environnement actuel,</span>
              </li>
              <li class="flex items-start">
                <span class="text-orange mr-3 mt-1">‚úì</span>
                Une <span class="text-bolder ml-1">interface intuitive </span>, pens√©e pour un usage quotidien fluide,
              </li>
              <li class="flex items-start">
                <span class="text-orange mr-3 mt-1">‚úì</span>
                Une <span class="text-bolder ml-1">gestion centralis√©e des dossiers, temps, factures et
                  r√®glements</span>,
              </li>
              <li class="flex items-start">
                <span class="text-orange mr-3 mt-1">‚úì</span>
                Une S√©curisation des √©changes de donn√©es gr√¢ce √† des protocoles de s√©curit√© avanc√©s,
              </li>
              <li class="flex items-start">
                <span class="text-orange mr-3 mt-1">‚úì</span>
                Un accompagnement personnalis√© √† chaque √©tape.
              </li>
            </ul>
          </div>
        </section>

        <div class="p-6">
          <h2 class="text-xl font-semibold mb-4 text-orange">Pr√™t pour 2026, pr√™t pour demain</h2>
          <p class="text-lg leading-relaxed text-gray-700 mb-6">
            Choisir zLawyer, c‚Äôest anticiper la r√©forme sans stress, tout en renfor√ßant l‚Äôefficacit√© de la
            gestion de votre cabinet au quotidien. <br>
            Vous vous concentrez sur votre c≈ìur de m√©tier pendant que nous assurons votre conformit√©
            technique et r√©glementaire.
          </p>
        </div>

        <div class="bg-blue-50 border-l-4 border-blue-400 p-6 rounded-lg mb-8">
          <p class="text-blue-800 font-bold">
            En choisissant zLawyer, vous garantissez la conformit√© de vos processus de facturation tout en b√©n√©ficiant
            d'une solution performante et s√©curis√©e.
          </p>
        </div>
        <NuxtLink title="Page Contact" class="text-orange underline" to="/facturation-electronique">
          Comprendre la r√©forme
        </NuxtLink>


        <hr class="my-12 border-gray-200">

        <section class="mb-16">
          <div class="p-8 text-center">
            <h2 class="text-2xl font-bold mb-4"><span class="text-underline">Besoin</span> d'en savoir plus ?</h2>
            <p class="text-lg text-gray-700 mb-6">
              Contactez-nous d√®s maintenant pour une d√©monstration personnalis√©e de zLawyer
            </p>
            <NuxtLink title="Page Contact" class="button-transparent" to="/contact">
              Je souhaite √™tre contact√©
            </NuxtLink>
          </div>
        </section>

        <hr class="my-12 border-gray-200">

        <section class="mb-16" id="faq">
          <h2 class="text-3xl font-bold mb-8"><span class="text-underline">FAQ</span> ‚Äì Questions fr√©quentes
          </h2>
          <p class="text-lg text-gray-600 mb-8">Voici le Forum des Questions (FAQ) sur la facturation √©lectronique</p>

          <div class="space-y-3">
            <div v-for="(item, idx) in faqList" :key="idx"
              class="group bg-white rounded-xl border border-gray-100 shadow-sm hover:shadow-md transition-all duration-300 overflow-hidden">
              <button
                class="w-full flex justify-between items-center px-6 py-5 text-left focus:outline-none rounded-xl transition-all duration-200 hover:bg-gray-50"
                @click="toggleFaq(idx)">
                <span class="font-semibold text-gray-800 text-lg pr-4">{{ item.q }}</span>
                <div class="flex-shrink-0">
                  <svg
                    :class="['transition-all duration-500 ease-in-out transform', openFaq === idx ? 'rotate-180 text-orange scale-110' : 'text-gray-400 group-hover:text-orange']"
                    width="20" height="20" fill="none" viewBox="0 0 24 24">
                    <path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"
                      stroke-linejoin="round" />
                  </svg>
                </div>
              </button>
              <transition name="transition-div" appear>
                <div v-show="openFaq === idx" class="overflow-hidden">
                  <div
                    class="px-6 pb-6 text-gray-700 leading-relaxed border-t border-gray-100 bg-gradient-to-b from-gray-50/50 to-white">
                    <div v-html="item.a" class="pt-4"></div>
                  </div>
                </div>
              </transition>
            </div>
          </div>
        </section>

        <hr class="my-12 border-gray-200">


        <section class="mb-16" id="statuts-factures">
          <h2 class="text-3xl font-bold mb-8 text-gray-800">Les principaux statuts d'une facture qui seront mis en
            place</h2>
          <p class="text-lg text-gray-700 mb-8">
            Une facture peut passer par plusieurs statuts normalis√©s tout au long de son cycle :
          </p>

          <div class="space-y-3">
            <div v-for="(item, idx) in statutsList" :key="idx"
              class="group bg-white rounded-xl border border-gray-100 shadow-sm hover:shadow-md transition-all duration-300 overflow-hidden">
              <button
                class="w-full flex justify-between items-center px-6 py-5 text-left focus:outline-none rounded-xl transition-all duration-200 hover:bg-gray-50"
                @click="toggleStatuts(idx)">
                <span class="font-semibold text-gray-800 text-lg pr-4">{{ item.q }}</span>
                <div class="flex-shrink-0">
                  <svg
                    :class="['transition-all duration-500 ease-in-out transform', openStatuts === idx ? 'rotate-180 text-orange scale-110' : 'text-gray-400 group-hover:text-orange']"
                    width="20" height="20" fill="none" viewBox="0 0 24 24">
                    <path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"
                      stroke-linejoin="round" />
                  </svg>
                </div>
              </button>
              <transition name="transition-div" appear>
                <div v-show="openStatuts === idx" class="overflow-hidden">
                  <div
                    class="px-6 pb-6 text-gray-700 leading-relaxed border-t border-gray-100 bg-gradient-to-b from-gray-50/50 to-white">
                    <div v-html="item.a" class="pt-4"></div>
                  </div>
                </div>
              </transition>
            </div>
          </div>

          <div class="bg-blue-50 border-l-4 border-blue-400 p-6 rounded-lg mt-8">
            <p class="text-blue-800 font-medium">
              üìä Chaque changement de statut est remont√© en temps r√©el, offrant une visibilit√© compl√®te sur l'√©tat
              d'avancement des factures.
            </p>
          </div>
        </section>

        <section class="mb-16">
          <div class="p-8 text-center">
            <h2 class="text-2xl font-bold mb-4"><span class="text-underline">Besoin</span> d'en savoir plus ?</h2>
            <p class="text-lg text-gray-700 mb-6">
              Contactez-nous d√®s maintenant pour une d√©monstration personnalis√©e de zLawyer
            </p>
            <NuxtLink title="Page Contact" class="button-transparent" to="/contact">
              Demander √† √™tre contact√©
            </NuxtLink>
          </div>
        </section>

      </div>
    </div>
  </div>
</template>

<script>
import { gsap } from "gsap";
import ScrollTrigger from "gsap/dist/ScrollTrigger";
gsap.registerPlugin(ScrollTrigger);

export default {
  data() {
    return {
      openFaq: null,
      openStatuts: null,
      faqList: [
        {
          q: "1. Qu'est-ce qu'une facture √©lectronique au sens de la r√©forme ?",
          a: "Une facture √©lectronique est une facture cr√©√©e, transmise et re√ßue au format structur√© ou hybride, via une plateforme agr√©√©e. Un simple PDF envoy√© par email ne sera plus conforme aux nouvelles r√®gles."
        },
        {
          q: "2. Qu'est-ce qu'une PA ?",
          a: "Une PA (Plateforme Agr√©e) est une plateforme priv√©e agr√©√©e par l'administration fiscale, qui peut :<ul class='list-disc ml-6'><li>√©mettre et recevoir des factures √©lectroniques,</li><li>transmettre les donn√©es √† la DGFiP,</li><li>assurer le suivi des statuts.</li></ul><div class='bg-gray-50 border-l-4 border-orange p-4 rounded mt-2'><p class='text-orange font-medium'>zLawyer est PA compliant : vous n'avez pas besoin de chercher une solution externe.</p></div>"
        },
        {
          q: "3. Est-ce que mon cabinet d'avocats est concern√© ?",
          a: "Oui. Tous les professionnels assujettis √† la TVA, y compris les professions lib√©rales, devront se conformer √† la r√©forme."
        },
        {
          q: "4. Toutes les entreprises devront elles s'√©quiper d'une solution informatique ?",
          a: "Toutes les entreprises fran√ßaises assujetties √† la TVA en France devront obligatoirement utiliser les services d'une PA (prestataire de services de confiance pour la d√©mat√©rialisation des factures) pour √©mettre et recevoir leurs factures, ainsi que pour transmettre les donn√©es requises √† l'Administration fiscale.<br>Il est important de noter que l'obligation d'√©mettre des factures √©lectroniques ne signifie pas n√©cessairement qu'une entreprise doit avoir une solution informatique. En effet, seule l'utilisation d'une PA est actuellement rendue obligatoire dans ce contexte.<br>Dans le cas d'une entreprise avec un faible volume de factures, tel qu'une SCI ayant un bail professionnel trimestriel par exemple, il n'est pas obligatoire de se doter d'une solution informatique. Cette entreprise devrait pouvoir √©mettre ses factures \"en ligne\". Il est cependant √† noter que l'usage du facturier papier ne sera plus possible."
        },
        {
          q: "5. Puis-je refuser une facture envoy√©e par courriel (PDF) par un fournisseur qui n'est pas encore concern√© par l'obligation ?",
          a: "Non, jusqu'√† la date d'entr√©e en vigueur de l'obligation (selon la taille de l'entreprise), vous ne pouvez pas exiger une facture √©lectronique.<br>Avant 2026-2027, une PME peut encore vous envoyer une facture PDF ou papier, et vous devez l'accepter tant qu'elle respecte la r√©glementation actuelle."
        },
        {
          q: "6. Vais-je pouvoir envoyer mes factures au format PDF par email ?",
          a: "Non. D√®s l'entr√©e en vigueur de la r√©forme (√† partir de 2026), les factures PDF envoy√©es par e-mail ne seront plus valides.<br>Vous devrez utiliser un format structur√© ou hybride (Factur-X, UBL, CII) et passer par une plateforme agr√©√©e pour les √©mettre."
        },
        {
          q: "7. Dois-je choisir une plateforme sp√©cifique ?",
          a: "Oui. Vous devrez passer par :<ul class='list-disc ml-6'><li>une PA agr√©√©e,</li><li>ou un OD (Op√©rateur de D√©mat√©rialisation).</li></ul>"
        },
        {
          q: "8. Quels formats de factures seront autoris√©s ?",
          a: "<ul class='list-disc ml-6'><li>Factur-X (hybride PDF/XML),</li><li>UBL et CII (formats structur√©s XML).</li></ul><div class='bg-blue-50 border-l-4 border-blue-400 p-4 rounded mt-2'><p class='text-blue-800 font-medium'>Tous lisibles automatiquement par les logiciels comptables.</p></div>"
        },
        {
          q: "9. Quelle est la diff√©rence entre e-invoicing et e-reporting ?",
          a: "<ul class='list-disc ml-6'><li><strong>E-invoicing :</strong> factures √©lectroniques B2B domestiques.</li><li><strong>E-reporting :</strong> concerne les transactions hors champ du e-invoicing (B2C, internationales, intercommunautaires, ou services hors UE), mais pour lesquelles l'administration veut suivre la TVA et les flux √©conomiques. On envoie un relev√© de transaction, pas la facture.</li></ul>"
        },
        {
          q: "10. Quelles sont les √©ch√©ances √† respecter ?",
          a: "<div class='space-y-4'><div><strong>Phase 1 : 1er septembre 2026 :</strong><ul class='list-disc ml-6 mt-2'><li>Obligation de recevoir des factures √©lectroniques pour TOUTES les entreprises</li><li>Grandes entreprises et ETI : Obligation d'√©mettre des factures √©lectroniques</li></ul></div><div><strong>Phase 2 : 1er Septembre 2027 :</strong><ul class='list-disc ml-6 mt-2'><li>Obligation d'√©mettre des factures √©lectroniques pour les PME, TPE et microentreprises</li><li>G√©n√©ralisation compl√®te de la facturation √©lectronique</li></ul></div></div>"
        },
        {
          q: "11. Comment zLawyer m'accompagne dans cette transition ?",
          a: "<ul class='list-disc ml-6'><li>Logiciel conforme √† la r√©forme 2026 et PA compliant.</li><li>√âmission et r√©ception des factures 100 % automatis√©es.</li><li>Suivi des statuts, alertes et tableaux de bord.</li><li>Formation et support d√©di√©s aux cabinets d'avocats.</li></ul>"
        },
        {
          q: "12. Je travaille pour des entreprises en Europe. Devrai-je √©mettre des factures √©lectroniques pour ces clients ?",
          a: "Non, pas pour ces clients. Le e-invoicing ne s'applique qu'aux transactions B2B domestiques (France/France).<br>En revanche, vous devrez effectuer du e-reporting pour vos clients √©trangers, y compris europ√©ens ou hors UE, afin de transmettre les donn√©es √† l'administration fiscale fran√ßaise."
        }
      ],
      statutsList: [
        {
          q: "1. √âmise",
          a: "La facture est g√©n√©r√©e et transmise √† une plateforme agr√©√©e."
        },
        {
          q: "2. D√©pos√©e",
          a: "La facture est enregistr√©e sur la plateforme (PA, OD ou PPF)."
        },
        {
          q: "3. Transmise",
          a: "La facture est envoy√©e au destinataire final."
        },
        {
          q: "4. Re√ßue",
          a: "La facture est r√©ceptionn√©e par le client."
        },
        {
          q: "5. Rejet√©e (le cas √©ch√©ant)",
          a: "Le client ou la plateforme refuse la facture pour non-conformit√©."
        },
        {
          q: "6. Accept√©e",
          a: "Le client valide la facture pour traitement comptable."
        },
        {
          q: "7. Pay√©e",
          a: "La facture est r√©gl√©e et le paiement est enregistr√©."
        },
        {
          q: "8. Archiv√©e",
          a: "La facture est conserv√©e dans un format l√©galement opposable pendant 10 ans."
        }
      ]
    }
  },
  methods: {
    toggleFaq(idx) {
      this.openFaq = this.openFaq === idx ? null : idx;
    },
    toggleStatuts(idx) {
      this.openStatuts = this.openStatuts === idx ? null : idx;
    }
  },
  mounted() {
    const links = Array.from(document.querySelectorAll('.scroll-link'));
    const sections = Array.from(document.querySelectorAll('section[id]'));

    if (!sections.length || !links.length) return;

    function setActive(id) {
      links.forEach(link => {
        const isActive = link.getAttribute('href') === `#${id}`;
        link.classList.toggle('font-bold', isActive);
        link.classList.toggle('text-orange', isActive);
        link.classList.toggle('text-gray-700', !isActive);
      });
    }

    sections.forEach(section => {
      ScrollTrigger.create({
        trigger: section,
        start: 'top 125px',
        end: 'bottom center',
        onEnter: () => setActive(section.id),
        onEnterBack: () => setActive(section.id),
      });
    });

    ScrollTrigger.refresh();
  }
};
</script>

<style scoped>
section {
  scroll-margin-top: 7rem;
}

section {
  min-height: 100px;
}

.scroll-mt-32 {
  scroll-margin-top: 8rem;
}

.transition-div-enter-active {
  transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.transition-div-leave-active {
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.transition-div-enter-from {
  opacity: 0;
  transform: translateY(-10px);
  max-height: 0;
}

.transition-div-leave-to {
  opacity: 0;
  transform: translateY(-5px);
  max-height: 0;
}

.transition-div-enter-to,
.transition-div-leave-from {
  opacity: 1;
  transform: translateY(0);
  max-height: 1000px;
}
</style>